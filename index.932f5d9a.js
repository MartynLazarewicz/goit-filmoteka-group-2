const e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],t=document.querySelector("#tags");const n="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=d2b5af87a64d923fbc9cd42aa4272fb1",i=document.querySelector("#main"),o=document.querySelector("#form"),a=document.querySelector("body"),s=document.getElementById("prev"),d=document.getElementById("current"),l=document.getElementById("next");let c=1,m=2,r=3,p="",u=100;function v(t){p=t,fetch(t).then((e=>e.json())).then((t=>{!function(t){i.innerHTML="",t.forEach((t=>{const{title:n,overview:o,vote_average:s,vote_count:d,genre_ids:l,popularity:c,release_date:m,original_title:r,id:p,poster_path:u}=t,v=document.createElement("div");v.classList.add("movie");const g=e.filter((function(e){return-1!==l.indexOf(e.id)})).map((e=>e.name)),_=`\n      <button type="button" class="movie__btn" id="${p}"><img class="poster-img" src="${u?"https://image.tmdb.org/t/p/w500"+u:"https://i.pinimg.com/originals/d2/92/47/d2924780042a36811b6bd5473465f7fc.jpg"}" alt="image"></button>\n      <div class="movie__info">\n          <div class="info"><h3 class="info__title">${n}</h3>\n          </div>\n          <div class="info ">\n            <p class="info__genres-and-year">${g.join(", ")} | ${m.slice(0,4)} </p><span class="${b=s,b>=8?"green":b>=4?"orange":"red"}">${s}</span>\n          </div>\n                  \n      </div>\n      `;var b;const h=`\n      <div id="${"modal"+p}" class="modal">\n        <div class="modal-content">\n          <span id="${"close"+p}"class="close">x</span>\n          <div class="modal-content__sides">\n            \n          <div class="modal-content__img">\n                    <img src="${u?"https://image.tmdb.org/t/p/w500"+u:"https://i.pinimg.com/originals/d2/92/47/d2924780042a36811b6bd5473465f7fc.jpg"}" alt="image"></div>\n\n          <div class="modal-content__right-side">\n          <h2 class="modal-content__title">${n}</h2>\n          <div class="modal-content__items">\n            <p class="modal-content__items--vote">${s} / ${d}</p>\n            <p class="modal-content__items--popularity">${Math.round(c).toLocaleString()}</p>\n            <p class="modal-content__items--title">${r}</p>\n            <p class="modal-content__items--genre">${g[0]}</p>\n          </div>\n          <h3 class="modal-content__about">About</h3>\n          <p class="modal-content__description">${o}</p>\n          <div class="modal-content__buttons">\n            <button type="button" class="modal-content__buttons--add-to-watched">ADD TO WATCHED</button>\n            <button type="button" class="modal-content__buttons--add-to-queue">ADD TO QUEUE</button>\n          </div>\n          </div>\n        </div>\n        </div>\n      </div>\n      `;v.innerHTML=_+h,i.appendChild(v),document.getElementById(p).addEventListener("click",(()=>{document.getElementById("modal"+p).style.display="block",a.classList.add("noOverFlow")})),document.getElementById("close"+p).addEventListener("click",(()=>{document.getElementById("modal"+p).style.display="none",a.classList.remove("noOverFlow")}))}))}(t.results),c=t.page,console.log(c),m=t.page+1,console.log(m),r=t.page-1,u=t.total_pages,d.innerText=c,c<=1?(s.classList.add("disabled"),l.classList.remove("disabled")):c>=u?(s.classList.remove("disabled"),l.classList.add("disabled")):(s.classList.remove("disabled"),l.classList.remove("disabled")),i.scrollIntoView({behavior:"smooth"}),0===t.results.length&&(console.log("ERROR IN SEARCH"),v(n))}))}function g(e){let t=p.split("?"),n=t[1].split("&"),i=n[n.length-1].split("=");if("page"!=i[0]){v(p+"&page="+e)}else{i[1]=e.toString();let o=i.join("=");n[n.length-1]=o;let a=n.join("&");v(t[0]+"?"+a)}}v(n),o.addEventListener("submit",(e=>{e.preventDefault();const t=document.querySelector("input").value;v(t?"https://api.themoviedb.org/3/search/movie?api_key=d2b5af87a64d923fbc9cd42aa4272fb1&query="+t:n)})),function(){const i=[];t.innerHTML="",e.forEach((e=>{const o=document.createElement("div");o.classList.add("tag"),o.id=e.id,o.innerText=e.name,o.addEventListener("click",(()=>{0===i.length?i.push(e.id):(i.splice(0,i.length),o.click()),v(n+"&with_genres="+encodeURI(i.join(",")))})),t.append(o)}))}(),s.addEventListener("click",(()=>{r>0&&g(r)})),l.addEventListener("click",(()=>{m<=u&&g(m)}));
//# sourceMappingURL=index.932f5d9a.js.map
