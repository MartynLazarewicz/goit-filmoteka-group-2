!function(){var e=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],t="api_key=d2b5af87a64d923fbc9cd42aa4272fb1",n="https://image.tmdb.org/t/p/w500",o="https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&"+t,a=document.querySelector("#main"),i=document.querySelector("#form"),c=document.querySelector("#prev"),d=document.querySelector("#current"),s=document.querySelector("#next"),l=1,r=2,m=3,u="",v=100;function p(t){u=t,fetch(t).then((function(e){return e.json()})).then((function(t){!function(t){a.innerHTML="",t.forEach((function(t){var o=t.title,i=t.overview,c=t.vote_average,d=t.vote_count,s=t.genre_ids,l=t.popularity,r=t.release_date,m=t.original_title,u=t.id,v=t.poster_path,p=document.createElement("div");p.classList.add("movie");var _,g=e.filter((function(e){return-1!==s.indexOf(e.id)})).map((function(e){return e.name})),b='\n      <button type="button" class="movie__btn" id="'.concat(u,'"><img class="poster-img" src="').concat(v?n+v:"https://i.pinimg.com/originals/d2/92/47/d2924780042a36811b6bd5473465f7fc.jpg",'" alt="image"></button>\n      <div class="movie__info">\n          <div class="info"><h3 class="info__title">').concat(o,'</h3>\n          </div>\n          <div class="info ">\n            <p class="info__genres-and-year">').concat(g.join(", ")," | ").concat(r.slice(0,4),' </p><span class="').concat((_=c,_>=8?"green":_>=4?"orange":"red"),'">').concat(c,"</span>\n          </div>\n                  \n      </div>\n      "),y='\n      <div id="'.concat("modal"+u,'" class="modal">\n        <div class="modal-content">\n          <span id="').concat("close"+u,'" class="close">x</span>\n          <div class="modal-content__sides">\n            \n          <div class="modal-content__img">\n                    <img src="').concat(v?n+v:"https://i.pinimg.com/originals/d2/92/47/d2924780042a36811b6bd5473465f7fc.jpg",'" alt="image"></div>\n\n          <div class="modal-content__right-side">\n          <h2 class="modal-content__title">').concat(o,'</h2>\n          <div class="modal-content__items">\n            <p class="modal-content__items--vote">').concat(c," / ").concat(d,'</p>\n            <p class="modal-content__items--popularity">').concat(Math.round(l).toLocaleString(),'</p>\n            <p class="modal-content__items--title">').concat(m,'</p>\n            <p class="modal-content__items--genre">').concat(g[0],'</p>\n          </div>\n          <h3 class="modal-content__about">About</h3>\n          <p class="modal-content__description">').concat(i,'</p>\n          <div class="modal-content__buttons">\n            <button type="button" class="modal-content__buttons--add-to-watched">ADD TO WATCHED</button>\n            <button type="button" class="modal-content__buttons--add-to-queue">ADD TO QUEUE</button>\n          </div>\n          </div>\n        </div>\n        </div>\n      </div>\n      ');p.innerHTML=b+y,a.appendChild(p),document.getElementById(u).addEventListener("click",(function(){document.getElementById("modal"+u).style.display="block",document.querySelector("body").style.overflow="hidden"})),document.getElementById("close"+u).addEventListener("click",(function(){document.getElementById("modal"+u).style.display="none",document.querySelector("body").style.overflow="visible"})),document.querySelector("#modal".concat(u," .modal-content__buttons--add-to-watched")).addEventListener("click",(function(){f("libraryWatched",t)})),document.querySelector("#modal".concat(u," .modal-content__buttons--add-to-queue")).addEventListener("click",(function(){f("libraryQueue",t)}))}))}(t.results),l=t.page,console.log(l),r=t.page+1,console.log(r),m=t.page-1,v=t.total_pages,d.innerText=l,l<=1?(c.classList.add("disabled"),s.classList.remove("disabled")):l>=v?(c.classList.remove("disabled"),s.classList.add("disabled")):(c.classList.remove("disabled"),s.classList.remove("disabled")),a.scrollIntoView({behavior:"smooth"})}))}function _(e){var t=u.split("?"),n=t[1].split("?"),o=n[n.length-1].split("=");if("page"!==o[0]){p(u+"&page="+e)}else{o[1]=e.toString();var a=o.join("=");n[n.length-1]=a;var i=n.join("&");p(t[0]+"?"+i)}}function f(e,t){var n=localStorage.getItem(e);if(null===n){var o=[t];localStorage.setItem(e,JSON.stringify(o))}else{var a=JSON.parse(n);void 0===a.find((function(e){return e.id===t.id}))&&(a.push(t),localStorage.setItem(e,JSON.stringify(a)))}}p(o),i.addEventListener("submit",(function(e){e.preventDefault();var t=document.querySelector("input").value;_(m),p(t?"https://api.themoviedb.org/3/search/movie?api_key=d2b5af87a64d923fbc9cd42aa4272fb1&query="+t:o)})),c.addEventListener("click",(function(){m>0&&_(d)})),s.addEventListener("click",(function(){r<=v&&_(r)}))}();
//# sourceMappingURL=index.a767bd49.js.map
