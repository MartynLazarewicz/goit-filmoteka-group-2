{"mappings":"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","sources":["src/js/movie-view-generate.js","src/js/genres.js","src/js/main-library.js"],"sourcesContent":["const IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport const getMovieBoxView = function (\n    id,\n    poster_path,\n    title,\n    vote_average,\n    genreNames,\n    release_date\n  ) {\n    return `\n      <button type=\"button\" class=\"movie__btn\" id=\"${id}\"><img class=\"poster-img\" src=\"${\n      poster_path\n        ? IMG_URL + poster_path\n        : 'https://i.pinimg.com/originals/d2/92/47/d2924780042a36811b6bd5473465f7fc.jpg'\n    }\" alt=\"image\"></button>\n      <div class=\"movie__info\">\n          <div class=\"info\"><h3 class=\"info__title\">${title}</h3>\n          </div>\n          <div class=\"info \">\n            <p class=\"info__genres-and-year\">${genreNames.join(\n              ', '\n            )} | ${release_date.slice(0, 4)} </p><span class=\"${getColor(\n      vote_average\n    )}\">${vote_average}</span>\n          </div>\n                  \n      </div>\n      `;\n  };\n  \n  export const getMovieModal = function (\n    id,\n    poster_path,\n    title,\n    vote_average,\n    vote_count,\n    popularity,\n    original_title,\n    genreNames,\n    overview\n  ) {\n    return `\n      <div id=\"${'modal' + id}\" class=\"modal\">\n        <div class=\"modal-content\">\n          <span id=\"${'close' + id}\" class=\"close\">x</span>\n          <div class=\"modal-content__sides\">\n            \n          <div class=\"modal-content__img\">\n                    <img src=\"${\n                      poster_path\n                        ? IMG_URL + poster_path\n                        : 'https://i.pinimg.com/originals/d2/92/47/d2924780042a36811b6bd5473465f7fc.jpg'\n                    }\" alt=\"image\"></div>\n  \n          <div class=\"modal-content__right-side\">\n          <h2 class=\"modal-content__title\">${title}</h2>\n          <div class=\"modal-content__items\">\n            <p class=\"modal-content__items--vote\">${vote_average} / ${vote_count}</p>\n            <p class=\"modal-content__items--popularity\">${Math.round(\n              popularity\n            ).toLocaleString()}</p>\n            <p class=\"modal-content__items--title\">${original_title}</p>\n            <p class=\"modal-content__items--genre\">${genreNames[0]}</p>\n          </div>\n          <h3 class=\"modal-content__about\">About</h3>\n          <p class=\"modal-content__description\">${overview}</p>\n          <div class=\"modal-content__buttons\">\n            <button type=\"button\" class=\"modal-content__buttons--remove-from-watched\">REMOVE FROM WATCHED</button>\n            <button type=\"button\" class=\"modal-content__buttons--remove-from-queue\">REMOVE FROM QUEUE</button>\n            </div>\n          </div>\n        </div>\n        </div>\n      </div>\n      `;\n  };\n\n  function getColor(vote) {\n    if (vote >= 8) {\n      return 'green';\n    } else if (vote >= 4) {\n      return 'orange';\n    } else {\n      return 'red';\n    }\n  }","export const genre = [\n  {\n    id: 28,\n    name: 'Action',\n  },\n  {\n    id: 12,\n    name: 'Adventure',\n  },\n  {\n    id: 16,\n    name: 'Animation',\n  },\n  {\n    id: 35,\n    name: 'Comedy',\n  },\n  {\n    id: 80,\n    name: 'Crime',\n  },\n  {\n    id: 99,\n    name: 'Documentary',\n  },\n  {\n    id: 18,\n    name: 'Drama',\n  },\n  {\n    id: 10751,\n    name: 'Family',\n  },\n  {\n    id: 14,\n    name: 'Fantasy',\n  },\n  {\n    id: 36,\n    name: 'History',\n  },\n  {\n    id: 27,\n    name: 'Horror',\n  },\n  {\n    id: 10402,\n    name: 'Music',\n  },\n  {\n    id: 9648,\n    name: 'Mystery',\n  },\n  {\n    id: 10749,\n    name: 'Romance',\n  },\n  {\n    id: 878,\n    name: 'Science Fiction',\n  },\n  {\n    id: 10770,\n    name: 'TV Movie',\n  },\n  {\n    id: 53,\n    name: 'Thriller',\n  },\n  {\n    id: 10752,\n    name: 'War',\n  },\n  {\n    id: 37,\n    name: 'Western',\n  },\n];\n","import { getMovieBoxView, getMovieModal } from './movie-view-generate.js';\nimport { genre } from './genres.js';\nconst mainWatched = document.querySelector('#main-watched');\nconst mainQueue = document.querySelector('#main-queue');\n\nconst libraryWatched = JSON.parse(localStorage.getItem('libraryWatched'));\nconst libraryQueue = JSON.parse(localStorage.getItem('libraryQueue'));\n\nconst getGenreNamesFromIds = function (genre_ids) {\n  let genreArrayOfObj = genre.filter(function (g) {\n    return genre_ids.indexOf(g.id) !== -1;\n  });\n\n  const genreNames = genreArrayOfObj.map(a => a.name);\n  return genreNames;\n};\n\nlibraryWatched.forEach(movie => {\n  const movieEl = document.createElement('div');\n  movieEl.classList.add('movie');\n  const genresNames = getGenreNamesFromIds(movie.genre_ids);\n\n  const movieBox = getMovieBoxView(\n    movie.id,\n    movie.poster_path,\n    movie.title,\n    movie.vote_average,\n    genresNames,\n    movie.release_date\n  );\n  const modal = getMovieModal(\n    movie.id,\n    movie.poster_path,\n    movie.title,\n    movie.vote_average,\n    movie.vote_count,\n    movie.popularity,\n    movie.original_title,\n    genresNames,\n    movie.overview\n  );\n\n  movieEl.innerHTML = movieBox + modal;\n  mainWatched.appendChild(movieEl);\n\n  const watchedMovie = document.getElementById(movie.id);\n\n  watchedMovie.addEventListener('click', () => {\n    //document.getElementsByClassName(\"modal-content__buttons--remove-from-watched\").style.display = 'block';\n\n    const watchedRemoveButton = document.querySelector(\n      `.modal-content__buttons--remove-from-watched`\n    );\n\n    watchedRemoveButton.addEventListener('click', () => {\n      const watchedMovieId = watchedMovie.id;\n      const watchedMovieFromLibraryById =\n        document.getElementById(watchedMovieId);\n      const watchedMovieFromLibraryByIdParent =\n        watchedMovieFromLibraryById.parentNode;\n      watchedMovieFromLibraryByIdParent.remove();\n    });\n\n    document.getElementById('modal' + movie.id).style.display = 'block';\n    document.querySelector('body').style.overflow = 'hidden';\n  });\n\n  // When the user clicks on <span> (x), close the modal\n  document.getElementById('close' + movie.id).addEventListener('click', () => {\n    document.getElementById('modal' + movie.id).style.display = 'none';\n    document.querySelector('body').style.overflow = 'visible';\n  });\n\n  //When the user clicks anywhere outside of the modal, close it\n  const modalWindow = document.getElementById('modal' + movie.id);\n  document.getElementById('modal' + movie.id).addEventListener('click', e => {\n    if (e.target == modalWindow) {\n      document.getElementById('modal' + movie.id).style.display = 'none';\n      document.querySelector('body').style.overflow = 'visible';\n    }\n  });\n\n  // When the user pressed esc, close the modal\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') {\n      document.getElementById('modal' + movie.id).style.display = 'none';\n      document.querySelector('body').style.overflow = 'visible';\n    }\n  });\n});\n\nlibraryQueue.forEach(movie => {\n  const movieEl = document.createElement('div');\n  movieEl.classList.add('movie');\n  const genresNames = getGenreNamesFromIds(movie.genre_ids);\n\n  const movieBox = getMovieBoxView(\n    movie.id,\n    movie.poster_path,\n    movie.title,\n    movie.vote_average,\n    genresNames,\n    movie.release_date\n  );\n  const modal = getMovieModal(\n    movie.id,\n    movie.poster_path,\n    movie.title,\n    movie.vote_average,\n    movie.vote_count,\n    movie.popularity,\n    movie.original_title,\n    genresNames,\n    movie.overview\n  );\n\n  movieEl.innerHTML = movieBox + modal;\n  mainQueue.appendChild(movieEl);\n\n  const queueMovie = document.getElementById(movie.id);\n    \n  queueMovie.addEventListener('click', () => {\n    \n    //document.getElementsByClassName(\"modal-content__buttons--remove-from-queue\").style.display = 'block';\n    \n    const queueRemoveButton = document.querySelector(\n      `.modal-content__buttons--remove-from-queue`\n    );\n\n    queueRemoveButton.addEventListener('click', () => {\n      const queueMovieId = queueMovie.id;\n      const queueMovieFromLibraryById = document.getElementById(queueMovieId);\n      const queueMovieFromLibraryByIdParent = queueMovieFromLibraryById.parentNode;\n      queueMovieFromLibraryByIdParent.remove();\n    });\n\n\n    document.getElementById('modal' + movie.id).style.display = 'block';\n    document.querySelector('body').style.overflow = 'hidden';\n  });\n\n  document.getElementById('close' + movie.id).addEventListener('click', () => {\n    document.getElementById('modal' + movie.id).style.display = 'none';\n    document.querySelector('body').style.overflow = 'visible';\n  });\n});"],"names":["$0fbc12bb794e2fcd$export$10d9741d9842851a","id","poster_path","title","vote_average","genreNames","release_date","join","slice","vote","$0fbc12bb794e2fcd$export$6f70c146188bd9e5","vote_count","popularity","original_title","overview","Math","round","toLocaleString","$a9bf4680370b89e9$export$ee68baf4cb9663dc","name","$ea7032d375b002ec$var$mainWatched","document","querySelector","$ea7032d375b002ec$var$mainQueue","$ea7032d375b002ec$var$libraryWatched","JSON","parse","localStorage","getItem","$ea7032d375b002ec$var$libraryQueue","$ea7032d375b002ec$var$getGenreNamesFromIds","genre_ids","filter","g","indexOf","map","a","forEach","movie","movieEl","createElement","classList","add","genresNames","movieBox","modal","innerHTML","appendChild","watchedMovie","getElementById","addEventListener","watchedMovieId","parentNode","remove","style","display","overflow","modalWindow","e","target","key","queueMovie","queueMovieId"],"version":3,"file":"my_library.3974ee21.js.map"}